*linux 基本命令
*通配符的使用
*查看帮助文档

**1）重要的快捷键
Tab 进行命令补全、目录、命令参数
ctrl+c 终止当前程序
ctrl+d 键盘输入结束或退出终端
Ctrl+s 暂停当前程序，暂停后按任意键恢复运行
Ctrl+z 将当前程序放到后台运行，恢复到前台命令为 fg
ctrl+a 将光标移至输入行头，相当于home键
Ctrl+e 将光标一直输入行末，相当于End键
Ctrl+k 删除从光标所在位置到行末

**2)学会利用历史输入命令
键盘上 方向 上键 

**3）学会使用通配符
* ?
|字符	 |含义|
|：----|---：|
|*	|匹配 0 或多个字符|
|?	|匹配任意一个字符|
|[list]	|匹配 list 中的任意单一字符|
|[^list]	|匹配 除list 中的任意单一字符以外的字符|
|[c1-c2]	|匹配 c1-c2 中的任意单一字符 如：[0-9] [a-z]|
|{string1,string2,...}	|匹配 string1 或 string2 (或更多)其一字符串|
|{c1..c2}	|匹配 c1-c2 中全部字符 如{1..10}|

4)学会在命令行中获取帮助
man 命令 
man <command_name>
man man
man 1 ls 
搜索
/<你要搜索的内容>
搜索结果 用 n 切换
shift + n 为上一个关键词所在 Space 即空格键 翻页 Enter向下滚动一行，k,j(vim编辑器的移动键)向前向后滚动。
h 键显示帮助 q 退出

info命令详细帮助 --help 快速查看具体参数的作用

sudo apt-get update
sudo apt-get install sysvbanner
sudo apt-get install toilet
sudo apt-get install figlet

实验3 用户及文件权限管理
who am i 
who mam likes
查看当前用户的用户名 直接 whoami
who 命令其他常用参数

参数 说明
-a   打印能打印的全部
-d   打印死掉的进程
-m   同am i ,mom likes
-q   打印当前登录用户数及用户名
-u   打印当前登录用户登录信息
-r   打印运行等级

2.1 查看用户
2.2 创建用户
sudo adduser lilei
root账户拥有整个系统至高无上的权利
su su- sudo
su <user> 切换到用户user 
sudo <cmd> 以特权命令级别运行cmd命令
su - <user> 也是切换用户，同时环境变量也会跟着改变成目标用户的环境变量
2.3 用户组
在 Linux 里面如何知道自己属于哪些用户组呢？

方法一：使用 groups 命令
 groups shiyanlou
 回车结果 冒号之前表示用户，后面表示该用户所属的用户组
 
 方法二：查看 /etc/group 文件
  cat /etc/group | sort
  过滤结果
  cat /etc/group | grep -E "shiyanlou"
  /etc/group 文件格式说明
  /etc/group 的内容包括用户组（Group）、用户组口令、GID 及该用户组所包含的用户（User），每个用户组一条记录。格式如下：
group_name:password:GID:user_list
 使用 usermod 命令可以为用户添加用户组
sudo usermod -G sudo lilei
删除用户
sudo deluser lilei --remove-home

三、Linux 文件权限
查看文件权限
ls -l
ls -lh 查看文件大小
ls . 当前目录
ls .. 上一级目录
ls -A 查看所有文件 包括隐藏文件
ls -Al
ls -dl 查看目录完整属性
ls -AsSh

3.2 变更文件所有者
sudo chown shiyanlou iphone6

3.3 修改文件权限 
方法一：二进制数字表示
r2w1x0 1*2**2+1*2**1+1*2**0=7
方法二：加减赋值操作
chmod go-rw iphone6
g = groups o = others u = user +-分别表示增加和去掉相应的权限

四、Linux目录结构 文件基本操作
每个目录大体内容
文件的属性
touch file rm mv 等基本命令
目录结构
1、FHS 标准
sudo apt-get update
sudo apt-get install tree
                  可分享的shareable      不可分享的unshareable
不可变的static   /usr 软件放置处         /etc 配置文件
                 /opt 第三方软件         /boot 开机及内核文件
可变动的variable /var/mail 用户邮件信箱 /var/run 程序相关
                 /var/news 新闻组       /var/lock 文件锁相关

2、目录路径
ls -a 查看包括隐藏文件在内的所有文件
- 表示上一次所在目录
～表示当前用户的home目录
pwd 获取当前的绝对路径
cd .. 进入上一级目录
cd ~ 或 cd /home/<你的用户名> 进入你的home目录
以home目录为起点 
cd /usr/local/bin #绝对目录
cd ../../usr/local/bin 相对目录

三、Linux文件的基本操作
1、新建
touch 创建空白文件
mkdir 创建空白目录
mkdir -p father/son/grandson #创建多级目录
touch {1..10}.txt  批量创建文件
2、复制文件
cp test father/son/grandson
复制目录：需要加上 -r 或 -R 表示递归复制，株连九族
cd /home/shiyanlou
mkdir family
cp -r father family
删除文件：rm (remove files or directories)
rm test
删除只读权限的文件：rm -f test

删除目录: rm -r family

4、移动文件与文件重命名
移动文件： mv (move or rename files) mv 源目录文件 目的目录
mkdir Documents
touch file1
mv file1 Documents
重命名文件： mv 旧的文件名 新的文件名
mv file1 myfile
批量重命名： rename 
rename 's/\.txt/\.c/' *.txt  后缀改为.c结尾
rename 'y/a-z/A-Z/' *.c  文件名和后缀名改为大写

5、查看文件
cat 标准输出 正序显示
tac 标准输出 倒序显示 
nl 添加行号并打印
nl 常用的几个参数
-b : 指定添加行号的方式，主要有两种：
    -b a:表示无论是否为空行，同样列出行号("cat -n"就是这种方式)
    -b t:只列出非空行的编号并列出（默认为这种方式）
-n : 设置行号的样式，主要有三种：
    -n ln:在行号字段最左端显示
    -n rn:在行号字段最右边显示，且不加 0
    -n rz:在行号字段最右边显示，且加 0
-w : 行号字段占用的位数(默认为 6 位)
使用more less 命令分页查看文件
more passwd：Enter向下滚动一行，Space向下滚动一屏，h 帮助，q退出
man 手册 vi编辑器

head tail命令查看文件
默认显示头十行和后几行
tail /etc/passwd 新用户的信息在最后一行
tail -n 1 /etc/passwd：只看最后一行
tail -f 不停读取某个文件的内容 实时监视

6、查看文件类型 
file /bin/ls
7、编辑文件
编辑器：emacs、vim、nano
vimtutor 直接使用Linux内部的vim学习教程

Practice 5 环境变量与文件查找
1、环境变量
$ temp=shiyanlou
$ export temp_env=shiyanlou
$ env|sort>env.txt
$ export|sort>export.txt
$ set|sort>set.txt

$ vimdiff env.txt export.txt set.txt

.profile 可以用 ls -a 查看
cd /home/shiyanlou
ls -a 

2. 命令的查找路径与顺序
查看path环境变量的内容
$ echo $PATH
创建shell 脚本
$ cd /home/shiyanlou
$ touch hello_shell.sh
$ gedit hello_shell.sh
添加内容
#!/bin/bash

for ((i=0; i<10; i++));do
    echo "hello shell"
done

exit 0

$ chmod 755 hello_shell.sh

$ cd /home/shiyanlou
$ ./hello_shell.sh
创建一个 C 语言“ hello world ”程序
$ cd /home/shiyanlou
$ gedit hello_world.c

#include <stdio.h>

int main(void)
{
    printf("hello world!\n");
    return 0;
}


$ gcc -o hello_world hello_world.c

$ cd /home/shiyanlou
$ mkdir mybin
$ mv hello_shell.sh hello_world mybin/
运行
$ cd mybin
$ ./hello_shell.sh
$ ./hello_world
3. 添加自定义路径到“ PATH ”环境变量
$ PATH=$PATH:/home/shiyanlou/mybin
$ echo "PATH=$PATH:/home/shiyanlou/mybin" >> .zshrc
上述命令中 >> 表示将标准输出以追加的方式重定向到一个文件中，注意前面用到的 > 是以覆盖的方式重定向到一个文件中，使用的时候一定要注意分辨。在指定文件不存在的情况下都会创建新的文件。

变量设置方式	说明
${变量名#匹配字串}	从头向后开始匹配，删除符合匹配字串的最短数据
${变量名##匹配字串}	从头向后开始匹配，删除符合匹配字串的最长数据
${变量名%匹配字串}	从尾向前开始匹配，删除符合匹配字串的最短数据
${变量名%%匹配字串}	从尾向前开始匹配，删除符合匹配字串的最长数据
${变量名/旧的字串/新的字串}	将符合旧字串的第一个字串替换为新的字串
${变量名//旧的字串/新的字串}	将符合旧字串的全部字串替换为新的字串
$ path=$PATH
$ echo $path
$ path=${path%/home/shiyanlou/mybin}
# 或使用通配符,*表示任意多个任意字符
$ path=${path%*/mybin}
$ unset temp  #这是变量删除
5、如何让环境变量立即生效
cd /home/shiyanlou
source .zshrc
或 . 命令
$ . ./.zshrc
注意的第一个点后面的空格
三、搜索文件
whereis which find locate
whereis 简单快速
whereis who 
whereis find

locate 快而全
sudo apt-get update
sudo apt-get install locate
locate /etc/sh

locate /usr/share/\*.jpg
统计数目 加上 -c 
忽略大小写 -i 

which 小而精
which man

find 精而细
最强大 find [path] [option][action]
sudo find /etc/ -name interfaces

参数    说明
-atime  最后访问时间
-ctime  最后修改文件内容的时间
-mtime  最后修改文件属性的时间

-mtime n: n为数字，表示在n天之前的“一天之内”修改过的文件
-mtime +n: 列出n天之前（不包含n本身）被修改过的文件件
-mtime -n:列出n天之内（包含n本身）被修改过的文件
-newer file:file为一个已存在的文件，列出比file还要新的文件
$find ~ -mtime 0  #列出home目录，当天（24小时之内）有改动的文件
$find ~ -newer /home/shiyanlou/Code #列出home目录下比Code文件夹新的文件

四、更多
amatrix 
sudo apt-get update;sudo apt-get install cmatrix
cmatrix -C red  #改变代码颜色

Prcatice 6 文件打包与解压缩：zip命令 tar命令 压缩与解压常用组合
文件后缀名	说明
*.zip	zip 程序打包压缩的文件
*.rar	rar 程序压缩的文件
*.7z	7zip 程序压缩的文件
*.tar	tar 程序打包，未压缩的文件
*.gz	gzip 程序（GNU zip）压缩的文件
*.xz	xz 程序压缩的文件
*.bz2	bzip2 程序压缩的文件
*.tar.gz	tar 打包，gzip 程序压缩的文件
*.tar.xz	tar 打包，xz 程序压缩的文件
*tar.bz2	tar 打包，bzip2 程序压缩的文件
*.tar.7z	tar 打包，7z 程序压缩的文件
三、实战
打包文件夹
$ cd /home/shiyanlou
$ zip -r -q -o shiyanlou.zip /home/shiyanlou/Desktop
$ du -h shiyanlou.zip
$ file shiyanlou.zip
-r 参数表示递归打包包含子目录的全部内容，-q 参数表示为安静模式，即不向屏幕输出信息，-o，表示输出文件，需在其后紧跟打包输出文件名。后面使用 du 命令查看打包后文件的大小

设置压缩级别为 9 和 1（9 最大，1 最小），重新打包：
$ zip -r -9 -q -o shiyanlou_9.zip /home/shiyanlou/Desktop -x ~/*.zip
$ zip -r -1 -q -o shiyanlou_1.zip /home/shiyanlou/Desktop -x ~/*.zip
 -x 是为了排除我们上一次创建的 zip 文件，否则又会被打包进这一次的压缩文件中，注意：这里只能使用绝对路径，否则不起作用。
 用 du 命令分别查看默认压缩级别、最低、最高压缩级别及未压缩的文件的大小
 $ du -h -d 0 *.zip ~ | sort
 
 创建加密 zip 包
 $ zip -r -e -o shiyanlou_encryption.zip /home/shiyanlou/Desktop
 为了能够在Windows电脑上顺利解压，需要修正命令
 $ zip -r -l -o shiyanlou.zip /home/shiyanlou/Desktop
 
 3.2 使用 unzip 命令解压缩 zip 文件
将 shiyanlou.zip 解压到当前目录：
$ unzip shiyanlou.zip

使用安静模式，将文件解压到指定目录：
$ unzip -q shiyanlou.zip -d ziptest

上述指定目录不存在，将会自动创建。如果你不想解压只想查看压缩包的内容你可以使用 -l 参数：
$ unzip -l shiyanlou.zip

使用 -O（英文字母，大写 o）参数指定编码类型：
unzip -O GBK 中文压缩文件.zip

3.3 tar 打包工具
创建一个 tar 包：
$ cd /home/shiyanlou
$ tar -P -cf shiyanlou.tar /home/shiyanlou/Desktop
-P 保留绝对路径符，-c 表示创建一个 tar 包文件，-f 用于指定创建的文件名，注意文件名必须紧跟在 -f 参数之后，比如不能写成 tar -fc shiyanlou.tar，可以写成 tar -f shiyanlou.tar -c ~。你还可以加上 -v 参数以可视的的方式输出打包的文件

解包一个文件（-x 参数）到指定路径的已存在目录（-C 参数）
$ mkdir tardir
$ tar -xf shiyanlou.tar -C tardir

只查看不解包文件 -t 参数：
$ tar -tf shiyanlou.tar

保留文件属性（-p 参数）和跟随链接（-h 参数）（符号链接或软链接）
$ tar -cphf etc.tar /etc

我们只需要在创建 tar 文件的基础上添加 -z 参数，使用 gzip 来压缩文件
$ tar -czf shiyanlou.tar.gz /home/shiyanlou/Desktop

解压 *.tar.gz 文件
$ tar -xzf shiyanlou.tar.gz

压缩文件格式	参数
*.tar.gz	-z
*.tar.xz	-J
*tar.bz2	-j

总结常用命令：
zip：
打包 ：zip something.zip something （目录请加 -r 参数）
解包：unzip something.zip
指定路径：-d 参数
tar：
打包：tar -cf something.tar something
解包：tar -xf something.tar
指定路径：-C 参数
